<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Time Left for MCAT Exam</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../../external_libraries/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="../../js/highlight/styles/default.css">
    <link rel="stylesheet" href="../../index.css">
    <script src="MCAT_countdown.js"></script>
</head>
<body class="container-lg">
<div class="jumbotron text-center">
    <h1>Deadlines</h1>
</div>


<div id="MCAT_table" class="table" style=>
    <table style="table-layout: fixed;">
        <tr>
            <th style="width: 20%">Item</th>
            <th style="width: 20%">Time Left</th>
            <th style="width: 60%">Progress</th>
        </tr>
        <tr>
            <td>MCAT</td>
            <td id="MCAT"></td>
            <td>
                <table class="table-light"
                       style="table-layout: fixed; table-border-color-dark: #0b2e13; background: #f3f6f6">
                    <tr>
                        <th>Subject</th>
                        <th>Percent Done</th>
                        <th>Passes Done (off 3)</th>
                    </tr>
                    <tr>
                        <td>Biology</td>
                        <td id="biology"></td>
                        <td id="biology_pass"></td>
                    </tr>
                    <tr>
                        <td>Biochemistry</td>
                        <td id="biochemistry"></td>
                        <td id="biochemistry_pass"></td>
                    </tr>
                    <tr>
                        <td>CARS</td>
                        <td id="CARS"></td>
                        <td id="CARS_pass"></td>
                    </tr>
                    <tr>
                        <td>CARS Workbook</td>
                        <td id="CARS_workbook"></td>
                        <td id="CARS_workbook_pass"></td>
                    </tr>
                    <tr>
                        <td>General Chemistry</td>
                        <td id="general_chemistry"></td>
                        <td id="general_chemistry_pass"></td>
                    </tr>
                    <tr>
                        <td>In Class Companion</td>
                        <td id="in_class_companion"></td>
                        <td id="in_class_companion_pass"></td>
                    </tr>
                    <tr>
                        <td>Organic Chemistry</td>
                        <td id="organic_chemistry"></td>
                        <td id="organic_chemistry_pass"></td>
                    </tr>
                    <tr>
                        <td>Physics and Math</td>
                        <td id="physics_and_math"></td>
                        <td id="physics_and_math_pass"></td>
                    </tr>
                    <tr>
                        <td>Psychology and Sociology</td>
                        <td id="psychology_and_sociology"></td>
                        <td id="psychology_and_sociology_pass"></td>
                    </tr>
                    <tr>
                        <td>Science Workbook</td>
                        <td id="science_workbook"></td>
                        <td id="science_workbook_pass"></td>
                    </tr>
                    <tr>
                        <td colspan="1">Overall</td>
                        <td colspan="1" id="overall"></td>
                        <td colspan="1" id="overall_pass"></td>
                    </tr>
                </table>
            </td>
            <td></td>
        </tr>
        <tr>
            <td>Research</td>
            <td id="research"></td>
            <td>
                <progress max="100" value="0"></progress>
            </td>
            <td></td>
        </tr>
        <tr>
            <td>Work Experience</td>
            <td id="work"></td>
            <td>
                <progress max="5" value="3"></progress>
            </td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </table>
</div>


<!--<a href="../images/east_windsor_road_2020_08_15_cinematic.jpg" target="_blank"><img-->
<!--        src="../images/east_windsor_road_2020_08_15_cinematic.jpg" class="container-lg" alt=""></a>-->


<div class="container-lg carousel carousel-fade">
    <img class="my_slides container-lg" src="../../pages/images/1.jpg" style="width:100%" alt="">
    <img class="my_slides container-lg" src="../../pages/images/2.jpg" style="width:100%" alt="">
    <img class="my_slides container-lg" src="../../pages/images/3.jpg" style="width:100%" alt="">
    <img class="my_slides container-lg" src="../../pages/images/4.jpg" style="width:100%" alt="">
    <img class="my_slides container-lg" src="../../pages/images/5.jpg" style="width:100%" alt="">
    <img class="my_slides container-lg" src="../../pages/images/6.jpg" style="width:100%" alt="">
    <img class="my_slides container-lg" src="../../pages/images/7.jpg" style="width:100%" alt="">
    <img class="my_slides container-lg" src="../../pages/images/8.jpg" style="width:100%" alt="">
    <img class="my_slides container-lg" src="../../pages/images/9.jpg" style="width:100%" alt="">
    <img class="my_slides container-lg" src="../../pages/images/10.jpg" style="width:100%" alt="">
    <img class="my_slides container-lg" src="../../pages/images/11.jpg" style="width:100%" alt="">
</div>


<!--Div introduced below to create extra empty space-->
<div>
    <p>
        <br>
        <br>
    </p>
</div>

<script>
    function countdownTimer(date_string, element_id) {
        let countDownDate = new Date(date_string).getTime();

        // Update the count down every 1 second
        let x = setInterval(function () {
            let now = new Date().getTime();
            let distance = countDownDate - now;
            let days = Math.floor(distance / (1000 * 60 * 60 * 24));
            let hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            let minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            let seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById(element_id).innerHTML = days + "d " + hours + "h " + minutes + "m " + seconds + "s ";

            if (distance < 0) {
                clearInterval(x);
                document.getElementById(element_id).innerHTML = "EXPIRED";
            }
        }, 1000);
    }

    countdownTimer("June 24, 2021 00:00:00", "MCAT");
    countdownTimer("June 24, 2021 00:00:00", "research");
    countdownTimer("Nov 01, 2021 00:00:00", "work");

    function write_progress(element_id) {
        let percent_done = MCAT_data[element_id]["completed_pages"] / MCAT_data[element_id]["overall_pages"];
        document.getElementById(element_id).innerHTML = "<progress max=\"1\" value=\"" + percent_done + "\"></progress>";
    }


    function write_passes(element_id) {
        let number = MCAT_data[element_id]["passes_done"] / MCAT_data[element_id]["passes_required"];
        console.log(element_id + "_pass");
        document.getElementById(element_id + "_pass").innerHTML = "<progress max=\"1\" value=\"" + number + "\"></progress>";
    }

    for (const mcat_data_key in MCAT_data) {
        write_progress(mcat_data_key);
        write_passes(mcat_data_key);
    }

    let overall_sum = 0
    let completed_sum = 0;
    let overall_pass_sum = 0
    let completed_pass_sum = 0;
    for (const mcat_data_key in MCAT_data) {
        overall_sum += MCAT_data[mcat_data_key]["overall_pages"];
        completed_sum += MCAT_data[mcat_data_key]["completed_pages"];
        overall_pass_sum += MCAT_data[mcat_data_key]["passes_required"];
        completed_pass_sum += MCAT_data[mcat_data_key]["passes_done"];
    }

    document.getElementById("overall").innerHTML = "<progress max=\"1\" value=\"" + (completed_sum / overall_sum) + "\"></progress>";
    document.getElementById("overall_pass").innerHTML = "<progress max=\"1\" value=\"" + (completed_pass_sum / overall_pass_sum) + "\"></progress>";

    let carousel_index = 0;
    carousel();

    function carousel() {
        let i;
        let x = document.getElementsByClassName("my_slides");
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        carousel_index++;
        if (carousel_index > x.length) {
            carousel_index = 1
        }
        x[carousel_index - 1].style.display = "block";
        setTimeout(carousel, 5000);
    }
</script>

<script src="../../external_libraries/bootstrap/jquery.min.js"></script>
<script src="../../external_libraries/bootstrap/popper.min.js"></script>
<script src="../../external_libraries/bootstrap/bootstrap.min.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script>
<script src="../../js/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>