(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     12634,        348]
NotebookOptionsPosition[     11673,        322]
NotebookOutlinePosition[     12102,        339]
CellTagsIndexPosition[     12059,        336]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"mapper", "[", "list_List", "]"}], ":=", 
     RowBox[{
      RowBox[{
       RowBox[{"(", 
        RowBox[{"\"\<main.\>\"", "<>", 
         RowBox[{"First", "[", "list", "]"}], "<>", "\"\<.\>\"", "<>", "#"}], 
        ")"}], "&"}], "/@", 
      RowBox[{"Rest", "[", "list", "]"}]}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"MainSchema", "[", "list_List", "]"}], ":=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"\"\<name\>\"", "\[Rule]", 
        RowBox[{"First", "@", "list"}]}], ",", 
       RowBox[{"\"\<imports\>\"", "\[Rule]", 
        RowBox[{"Rest", "[", "list", "]"}]}]}], "}"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"SubSchema", "[", "item_", "]"}], ":=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"\"\<name\>\"", "\[Rule]", "item"}], ",", 
       RowBox[{"\"\<imports\>\"", "\[Rule]", 
        RowBox[{"{", "}"}]}]}], "}"}]}], ";"}]}]}]], "Input",
 CellChangeTimes->{{3.8136201697586656`*^9, 3.813620226461048*^9}, {
  3.8136203867713175`*^9, 3.813620547871496*^9}, {3.8136205858070135`*^9, 
  3.8136205885177917`*^9}, {3.8136206328033586`*^9, 3.813620659094174*^9}, {
  3.813620724765969*^9, 3.8136207335485153`*^9}, {3.813620817193123*^9, 
  3.8136208308994703`*^9}, {3.81362088537401*^9, 3.813620941755242*^9}, {
  3.813621061678376*^9, 3.81362118039106*^9}, {3.8136212662490807`*^9, 
  3.8136213920711837`*^9}, {3.8136214233648396`*^9, 3.8136215156047387`*^9}, {
  3.8136215589236627`*^9, 3.813621559011449*^9}, {3.96564445837782*^9, 
  3.965644460821535*^9}, {3.9656445623205147`*^9, 3.96564456522892*^9}, {
  3.96564582324128*^9, 3.965646002302842*^9}},
 CellLabel->
  "In[365]:=",ExpressionUUID->"6389b719-1a72-4a01-a254-67212250bec8"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"data", "=", 
    RowBox[{
     RowBox[{"Import", "[", 
      RowBox[{"StringReplace", "[", 
       RowBox[{
        RowBox[{"NotebookFileName", "[", "]"}], ",", 
        RowBox[{"\"\<.nb\>\"", "\[Rule]", "\"\<.csv\>\""}]}], "]"}], "]"}], 
     "[", 
     RowBox[{"[", 
      RowBox[{";;", ",", 
       RowBox[{"1", ";;", "2"}]}], "]"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"data", "[", 
        RowBox[{"[", 
         RowBox[{
          RowBox[{"2", ";;"}], ",", "x"}], "]"}], "]"}], "=", 
       RowBox[{
        RowBox[{
         RowBox[{"StringPadLeft", "[", 
          RowBox[{
           RowBox[{"ToString", "@", "#"}], ",", "2", ",", "\"\<0\>\""}], 
          "]"}], "&"}], "/@", 
        RowBox[{"data", "[", 
         RowBox[{"[", 
          RowBox[{
           RowBox[{"2", ";;"}], ",", "x"}], "]"}], "]"}]}]}], ",", 
      RowBox[{"{", 
       RowBox[{"x", ",", 
        RowBox[{"{", 
         RowBox[{"2", ",", "2"}], "}"}]}], "}"}]}], "]"}], ";"}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"data", "=", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{
       RowBox[{"mapper", "[", 
        RowBox[{"data", "[", 
         RowBox[{"[", 
          RowBox[{";;", ",", "#"}], "]"}], "]"}], "]"}], "&"}], "/@", 
      RowBox[{"Range", "[", 
       RowBox[{
        RowBox[{"Dimensions", "[", "data", "]"}], "[", 
        RowBox[{"[", "2", "]"}], "]"}], "]"}]}], ")"}], "//", "Transpose"}]}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{"Export", "[", 
  RowBox[{
   RowBox[{"StringReplace", "[", 
    RowBox[{
     RowBox[{"NotebookFileName", "[", "]"}], ",", 
     RowBox[{"\"\<.nb\>\"", "\[Rule]", "\"\<.json\>\""}]}], "]"}], ",", 
   RowBox[{"Join", "@@", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"MainSchema", "/@", "data"}], ",", 
      RowBox[{"SubSchema", "/@", 
       RowBox[{"Union", "[", 
        RowBox[{"Flatten", "[", 
         RowBox[{"data", "[", 
          RowBox[{"[", 
           RowBox[{";;", ",", 
            RowBox[{"2", ";;"}]}], "]"}], "]"}], "]"}], "]"}]}]}], "}"}]}]}], 
  "]"}]}], "Input",
 CellChangeTimes->{{3.965644575623331*^9, 3.965644608289638*^9}, 
   3.96564476976398*^9, {3.9656450840240803`*^9, 3.965645121484309*^9}, {
   3.965645183858532*^9, 3.9656452562966337`*^9}, {3.965645323563301*^9, 
   3.9656453587378283`*^9}, {3.965645647773717*^9, 3.965645684317354*^9}, {
   3.965645788735249*^9, 3.965645819496848*^9}, {3.9656460638287*^9, 
   3.965646166287991*^9}, {3.965646404848234*^9, 3.965646417154537*^9}, {
   3.965647045208014*^9, 3.96564704568812*^9}, {3.965647094588232*^9, 
   3.965647201438148*^9}, {3.9656472404135647`*^9, 3.965647355231564*^9}, {
   3.965647435510449*^9, 3.965647479704253*^9}, {3.965647920274798*^9, 
   3.9656479359456673`*^9}, {3.9656480278662863`*^9, 3.965648081228085*^9}, 
   3.965648678113843*^9, 3.965648710807729*^9, {3.965648945270585*^9, 
   3.9656489656347637`*^9}},
 CellLabel->
  "In[368]:=",ExpressionUUID->"35f7d878-71d0-460a-951a-805d06882678"],

Cell[BoxData["\<\"/Users/fermibot/WebstormProjects/fermibotsite/pages/\
LifeSkills/LifeSkills_HowToTalkToAnyone/LifeSkills_HowToTalkToAnyone.json\"\>\
"], "Output",
 CellChangeTimes->{
  3.965647355725727*^9, {3.965647436681489*^9, 3.9656474801808233`*^9}, {
   3.965647918005077*^9, 3.9656479363922586`*^9}, {3.9656480320011187`*^9, 
   3.965648083187796*^9}, {3.965648658817144*^9, 3.9656486783670464`*^9}, 
   3.9656487113895493`*^9, {3.965648916946291*^9, 3.965648966808343*^9}},
 CellLabel->
  "Out[370]=",ExpressionUUID->"66e9e505-b1d7-4eb0-ba29-f0b75079e76a"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Code generated by DeepSeek", "Section",
 CellChangeTimes->{{3.965677700758697*^9, 
  3.96567771380512*^9}},ExpressionUUID->"ab6c8b8b-3ce7-423a-8547-\
af8c6ead3e40"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "Read", " ", "CSV", " ", "data", " ", "including", " ", "all", " ", 
    "three", " ", "columns"}], "*)"}], 
  RowBox[{
   RowBox[{
    RowBox[{"data", "=", 
     RowBox[{"Import", "[", 
      RowBox[{"StringReplace", "[", 
       RowBox[{
        RowBox[{"NotebookFileName", "[", "]"}], ",", 
        RowBox[{"\"\<.nb\>\"", "->", "\"\<.csv\>\""}]}], "]"}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", "\n", 
   RowBox[{"(*", 
    RowBox[{
    "Create", " ", "association", " ", "for", " ", "quick", " ", "summary", 
     " ", "lookup"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"summaryLookup", "=", 
     RowBox[{"AssociationThread", "[", 
      RowBox[{
       RowBox[{"data", "[", 
        RowBox[{"[", 
         RowBox[{
          RowBox[{"2", ";;"}], ",", "1"}], "]"}], "]"}], "->", 
       RowBox[{"data", "[", 
        RowBox[{"[", 
         RowBox[{
          RowBox[{"2", ";;"}], ",", "3"}], "]"}], "]"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\n", 
   RowBox[{"(*", 
    RowBox[{"Your", " ", "existing", " ", "mapping", " ", "functions"}], 
    "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"mapper", "[", "list_List", "]"}], ":=", 
     RowBox[{
      RowBox[{
       RowBox[{"(", 
        RowBox[{"\"\<main.\>\"", "<>", 
         RowBox[{"First", "[", "list", "]"}], "<>", "\"\<.\>\"", "<>", "#"}], 
        ")"}], "&"}], "/@", 
      RowBox[{"Rest", "[", "list", "]"}]}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"MainSchema", "[", "list_List", "]"}], ":=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"\"\<name\>\"", "->", 
        RowBox[{"First", "@", "list"}]}], ",", 
       RowBox[{"\"\<imports\>\"", "->", 
        RowBox[{"Rest", "[", "list", "]"}]}]}], "}"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"SubSchema", "[", "item_", "]"}], ":=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"\"\<name\>\"", "->", "item"}], ",", 
       RowBox[{"\"\<imports\>\"", "->", 
        RowBox[{"{", "}"}]}]}], "}"}]}], ";"}], "\[IndentingNewLine]", "\n", 
   RowBox[{"(*", 
    RowBox[{"Process", " ", "data", " ", "for", " ", "JSON"}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"processedData", "=", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"mapper", "[", 
          RowBox[{"data", "[", 
           RowBox[{"[", 
            RowBox[{";;", ",", "#"}], "]"}], "]"}], "]"}], "&"}], "/@", 
        RowBox[{"Range", "[", "2", "]"}]}], ")"}], "//", "Transpose"}]}], 
    ";"}], "\[IndentingNewLine]", "\n", 
   RowBox[{"(*", 
    RowBox[{
    "Create", " ", "enhanced", " ", "JSON", " ", "with", " ", "summary", " ", 
     "data"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"enhancedJSON", "=", 
     RowBox[{"Join", "[", 
      RowBox[{
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{"StringContainsQ", "[", 
            RowBox[{
             RowBox[{"processedData", "[", 
              RowBox[{"[", 
               RowBox[{"i", ",", "1"}], "]"}], "]"}], ",", 
             "\"\<chapter_name\>\""}], "]"}], ",", 
           RowBox[{"Append", "[", 
            RowBox[{
             RowBox[{"MainSchema", "[", 
              RowBox[{"processedData", "[", 
               RowBox[{"[", "i", "]"}], "]"}], "]"}], ",", 
             RowBox[{"\"\<summary\>\"", "->", 
              RowBox[{"summaryLookup", "[", 
               RowBox[{"StringReplace", "[", 
                RowBox[{
                 RowBox[{"processedData", "[", 
                  RowBox[{"[", 
                   RowBox[{"i", ",", "1"}], "]"}], "]"}], ",", 
                 RowBox[{"\"\<main.chapter_name.\>\"", "->", "\"\<\>\""}]}], 
                "]"}], "]"}]}]}], "]"}], ",", 
           RowBox[{"MainSchema", "[", 
            RowBox[{"processedData", "[", 
             RowBox[{"[", "i", "]"}], "]"}], "]"}]}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", 
           RowBox[{"Length", "[", "processedData", "]"}]}], "}"}]}], "]"}], 
       ",", 
       RowBox[{"SubSchema", "/@", 
        RowBox[{"Union", "[", 
         RowBox[{"Flatten", "[", 
          RowBox[{"processedData", "[", 
           RowBox[{"[", 
            RowBox[{";;", ",", 
             RowBox[{"2", ";;"}]}], "]"}], "]"}], "]"}], "]"}]}]}], "]"}]}], 
    ";"}], "\[IndentingNewLine]", "\n", 
   RowBox[{"(*", 
    RowBox[{"Export", " ", "enhanced", " ", "JSON"}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{"Export", "[", 
    RowBox[{
     RowBox[{"StringReplace", "[", 
      RowBox[{
       RowBox[{"NotebookFileName", "[", "]"}], ",", 
       RowBox[{"\"\<.nb\>\"", "->", "\"\<.json\>\""}]}], "]"}], ",", 
     "enhancedJSON"}], "]"}]}]}]], "Input",
 CellChangeTimes->{{3.965677688787567*^9, 3.965677688793487*^9}},
 CellLabel->
  "In[387]:=",ExpressionUUID->"61fa15ca-e393-4088-a657-79557309c094"],

Cell[BoxData["\<\"/Users/fermibot/WebstormProjects/fermibotsite/pages/\
LifeSkills/LifeSkills_HowToTalkToAnyone/LifeSkills_HowToTalkToAnyone.json\"\>\
"], "Output",
 CellChangeTimes->{3.965677718009178*^9, 3.9656782527660637`*^9, 
  3.965678302211739*^9},
 CellLabel->
  "Out[394]=",ExpressionUUID->"9c518fc5-ad95-43a5-a5c9-7912fae404d4"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{Full, Full},
WindowMargins->{{-13, Automatic}, {Automatic, -13}},
Magnification:>2. Inherited,
FrontEndVersion->"13.2 for Mac OS X ARM (64-bit) (January 30, 2023)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"3e35f863-511e-4fd6-bc16-a6a88c636544"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 1833, 42, 183, "Input",ExpressionUUID->"6389b719-1a72-4a01-a254-67212250bec8"],
Cell[CellGroupData[{
Cell[2416, 66, 3125, 85, 224, "Input",ExpressionUUID->"35f7d878-71d0-460a-951a-805d06882678"],
Cell[5544, 153, 566, 9, 109, "Output",ExpressionUUID->"66e9e505-b1d7-4eb0-ba29-f0b75079e76a"]
}, Open  ]],
Cell[CellGroupData[{
Cell[6147, 167, 170, 3, 134, "Section",ExpressionUUID->"ab6c8b8b-3ce7-423a-8547-af8c6ead3e40"],
Cell[CellGroupData[{
Cell[6342, 174, 4962, 136, 1003, "Input",ExpressionUUID->"61fa15ca-e393-4088-a657-79557309c094"],
Cell[11307, 312, 338, 6, 145, "Output",ExpressionUUID->"9c518fc5-ad95-43a5-a5c9-7912fae404d4"]
}, Open  ]]
}, Open  ]]
}
]
*)

