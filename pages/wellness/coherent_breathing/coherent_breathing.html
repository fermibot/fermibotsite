<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wellness | Coherent Breathing - A Guide for All Levels</title>

    <link rel="stylesheet" href="../../../d3_templates/hierarchical_dendrogram.css">
    <link rel="stylesheet" href="../../../index.css">
    <link rel="stylesheet" href="../../../bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../../js/highlight/styles/default.css">
    <link rel="stylesheet" href="../../../external_libraries/bootstrap/bootstrap.min.css">

    <!-- Main CSS for this page -->
    <link rel="stylesheet" href="coherent_breathing.css">

    <script src="../../../d3/d3.v4.min.js"></script>
    <script src="../../../automation/loadObjects.js"></script>
    <script src="../../../js/highlight/highlight.pack.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script>

    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>

<div class="container-lg card p-5">
    <div id="header_placeholder"></div>

    <h1 class="d-grid gap-3 justify-content-center p-2 mb-4" style="color: #8B4513;">Wellness | Coherent Breathing</h1>

    <p class="text-center mb-4" style="font-size: 1.1rem; color: #555;">
        A guided experience for everyone - from absolute beginners to breathing experts.<br>
        Choose your level to get started:
    </p>

    <!-- Level Navigation -->
    <div class="row mb-5">
        <div class="col-md-4 mb-3">
            <div class="card text-center h-100 level-card" id="beginnerCard"
                 onclick="scrollToSection('beginnerSection')" style="cursor: pointer;">
                <div class="card-body">
                    <h3 class="card-title beginner-color">üå± Beginner</h3>
                    <p class="card-text">New to coherent breathing? Start here with educational videos to understand the
                        basics.</p>
                    <div class="badge beginner-badge">Start Here</div>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="card text-center h-100 level-card" id="practitionerCard"
                 onclick="scrollToSection('practitionerSection')" style="cursor: pointer;">
                <div class="card-body">
                    <h3 class="card-title practitioner-color">üîÑ Practitioner</h3>
                    <p class="card-text">Familiar with the basics? Choose from established breathing patterns for
                        practice.</p>
                    <div class="badge practitioner-badge">Practice Patterns</div>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="card text-center h-100 level-card" id="expertCard" onclick="scrollToSection('expertSection')"
                 style="cursor: pointer;">
                <div class="card-body">
                    <h3 class="card-title expert-color">üéõÔ∏è Expert</h3>
                    <p class="card-text">Ready for advanced practice? Create custom breathing patterns tailored to your
                        needs.</p>
                    <div class="badge expert-badge">Custom Creator</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Section 1: Beginner -->
    <div id="beginnerSection" class="level-section mt-5">
        <div class="section-header beginner-header">
            <h3 class="beginner-color center-flex">üå± Beginner Level | Learn the Basics</h3>
            <p class="center-flex justify-content-center">Start your coherent breathing journey with these educational
                videos. Learn what
                coherent breathing is, why it works, and how to get started.</p>
        </div>

        <div class="row mt-4">
            <div class="col-lg-6 mb-4">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title beginner-color text-center">üé• What is Coherent Breathing?</h5>
                        <p class="card-text">Learn the fundamentals of coherent breathing and how it benefits your
                            nervous system.</p>
                        <div class="video-container">
                            <iframe
                                    class="w-100"
                                    height="315"
                                    src="https://www.youtube.com/embed/q06YIWCR2Js"
                                    title="What is Coherent Breathing?"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                    referrerpolicy="strict-origin-when-cross-origin"
                                    allowfullscreen>
                            </iframe>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-6 mb-4">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title beginner-color text-center">üéì The Science Behind It</h5>
                        <p class="card-text">Understand the science of heart rate variability and why 5.5-5.5 breathing
                            is optimal.</p>
                        <div class="video-container">
                            <iframe
                                    class="w-100"
                                    height="315"
                                    src="https://www.youtube.com/embed/Q_fFattg8N0?pp=ygUnYmVpbmcgYnJpbGxpYW50IGV2ZXJ5IHNpbmdsZSBkYXkgcGFydCAy2AYD"
                                    title="Science of Coherent Breathing"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                    referrerpolicy="strict-origin-when-cross-origin"
                                    allowfullscreen>
                            </iframe>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card mt-4 tips-card">
            <div class="card-body">
                <h5 class="card-title beginner-color collapsible-header" onclick="toggleCollapse('beginnerChecklist', this)">
                    üìù Beginner's Checklist
                    <span class="collapse-icon">‚ñº</span>
                </h5>
                <div class="collapsible-content" id="beginnerChecklist">
                    <ul>
                        <li>‚úÖ Watch both videos to understand the concept</li>
                        <li>‚úÖ Find a comfortable, quiet place to practice</li>
                        <li>‚úÖ Start with just 5 minutes per day</li>
                        <li>‚úÖ Focus on consistency rather than duration</li>
                        <li>‚úÖ Move to Practitioner level when ready to try patterns</li>
                    </ul>
                    <div class="text-center">
                        <button class="btn beginner-btn btn-sm" onclick="scrollToSection('practitionerSection')">
                            ü°á Ready to Practice? Go to Practitioner Level
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Section 2: Practitioner -->
    <div id="practitionerSection" class="level-section mt-5">
        <div class="section-header practitioner-header">
            <h3 class="practitioner-color text-center">üîÑ Practitioner Level | Practice with Patterns</h3>
            <p class="">Choose from established breathing patterns. Each pattern is designed for specific benefits.
                Start with the standard 5.5-5.5 pattern for optimal results.</p>
        </div>

        <!-- Unified Audio Controls -->
        <div class="audio-controls">
            <!-- Unified Control Panel -->
            <div class="row">
                <div class="unified-control-panel mb-4 col-12">
                    <div class="control-panel-inner">
                        <!-- Session Timer Display -->
                        <div class="session-timer-inline">
                            <div class="timer-label">Session Timer</div>
                            <div class="session-timer" id="sessionTimer">00:00:00</div>
                        </div>

                        <!-- Play/Pause/Stop Buttons -->
                        <div class="unified-buttons">
                            <button class="btn btn-primary btn-lg unified-play" id="unifiedPlay" disabled>
                                ‚ñ∂Ô∏è Play
                            </button>
                            <button class="btn btn-secondary btn-lg unified-pause" id="unifiedPause" disabled>
                                ‚è∏Ô∏è Pause
                            </button>
                            <button class="btn btn-outline-secondary btn-lg unified-stop" id="unifiedStop" disabled>
                                ‚èπÔ∏è Stop
                            </button>
                        </div>

                        <!-- Status Display -->
                        <div class="unified-status">
                            <span class="loading-status" id="unifiedLoadingStatus">Loading audio files...</span>
                            <span class="selected-pattern"
                                  id="selectedPatternDisplay">Selected: 5.5-5.5 (Standard)</span>
                        </div>
                    </div>
                </div>


            </div>

            <!-- Pattern Selection Cards -->
            <h5 class="text-center mb-3" style="color: #666;">Select a Pattern:</h5>


            <!-- Other Patterns Grid -->
            <div class="row">

                <!-- Standard Pattern (Highlighted) -->
                <div class="col-md-6 col-6">
                    <div>
                        <div class="pattern-selector-card selected standard-pattern-highlight"
                             data-pattern-id="55.5"
                             data-audio-url="Coherent_Piano_5.5_5.5_fermibot.mp3"
                             onclick="selectPattern(this)">
                            <div class="pattern-selector-content">
                                <div class="pattern-radio">
                                    <span class="radio-indicator"></span>
                                </div>
                                <div class="pattern-info">
                                    <h5 class="pattern-title">‚≠ê 5.5-5.5 Breathing Pattern <span
                                            class="badge bg-success">Standard</span>
                                    </h5>
                                    <p class="pattern-description mb-0">5.5s inhale, 5.5s exhale | Pattern for optimal
                                        HRV</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-3">
                    <div class="pattern-selector-card"
                         data-pattern-id="55"
                         data-audio-url="Coherent_Piano_5_5_fermibot.mp3"
                         onclick="selectPattern(this)">
                        <div class="pattern-selector-content">
                            <div class="pattern-radio">
                                <span class="radio-indicator"></span>
                            </div>
                            <div class="pattern-info">
                                <h5 class="pattern-title">üåº 5-5 Breathing Pattern</h5>
                                <p class="pattern-description mb-0">5s inhale, 5s exhale | For energy and focus</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-3">
                    <div class="pattern-selector-card"
                         data-pattern-id="66"
                         data-audio-url="Coherent_Piano_6_6_fermibot.mp3"
                         onclick="selectPattern(this)">
                        <div class="pattern-selector-content">
                            <div class="pattern-radio">
                                <span class="radio-indicator"></span>
                            </div>
                            <div class="pattern-info">
                                <h5 class="pattern-title">üå∏ 6-6 Breathing Pattern</h5>
                                <p class="pattern-description mb-0">6s inhale, 6s exhale | Perfect for relaxation</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-3">
                    <div class="pattern-selector-card"
                         data-pattern-id="77"
                         data-audio-url="Coherent_Piano_7_7_fermibot.mp3"
                         onclick="selectPattern(this)">
                        <div class="pattern-selector-content">
                            <div class="pattern-radio">
                                <span class="radio-indicator"></span>
                            </div>
                            <div class="pattern-info">
                                <h5 class="pattern-title">üåø 7-7 Breathing Pattern</h5>
                                <p class="pattern-description mb-0">7s inhale, 7s exhale | For deep relaxation</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-3">
                    <div class="pattern-selector-card"
                         data-pattern-id="88"
                         data-audio-url="Coherent_Piano_8_8_fermibot.mp3"
                         onclick="selectPattern(this)">
                        <div class="pattern-selector-content">
                            <div class="pattern-radio">
                                <span class="radio-indicator"></span>
                            </div>
                            <div class="pattern-info">
                                <h5 class="pattern-title">üåä 8-8 Breathing Pattern</h5>
                                <p class="pattern-description mb-0">8s inhale, 8s exhale | For meditation & calm</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-center mt-3">
                <p class="text-muted" style="font-size: 0.9rem;">
                    <strong>Note:</strong> Using Web Audio API for seamless looping without gaps between cycles.
                    Select a pattern above, then use the unified controls to play.
                </p>
            </div>
        </div>

        <!-- Practitioner Tips -->
        <div class="card mt-4 tips-card">
            <div class="card-body">
                <h5 class="card-title practitioner-color collapsible-header" onclick="toggleCollapse('practitionerTips', this)">
                    üí° Practitioner Tips
                    <span class="collapse-icon">‚ñº</span>
                </h5>
                <div class="collapsible-content" id="practitionerTips">
                    <ul>
                        <li>‚úÖ Start with the 5.5-5.5 pattern for best heart rate variability results</li>
                        <li>‚úÖ Practice for 10-20 minutes daily for noticeable benefits</li>
                        <li>‚úÖ Breathe through your nose with your belly expanding</li>
                        <li>‚úÖ Keep your eyes closed and focus on the piano tones</li>
                        <li>‚úÖ Gradually increase duration as you become more comfortable</li>
                    </ul>
                    <div class="text-center">
                        <button class="btn beginner-btn btn-sm" onclick="scrollToSection('beginnerSection')">
                            ü°Ö Back to Beginner Level
                        </button>
                        <button class="btn practitioner-btn btn-sm" onclick="scrollToSection('expertSection')">
                            ü°á Ready to Customize? Go to Expert Level
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Section 3: Expert -->
    <div id="expertSection" class="level-section mt-5">
        <div class="section-header expert-header">
            <h3 class="expert-color text-center">üéõÔ∏è Expert Level | Custom Pattern Creator</h3>
            <p class="">Create your own breathing patterns with customizable inhale, exhale, and pause durations.
                Perfect for advanced practitioners who want to explore different breathing techniques.</p>
        </div>

        <div class="programmable-section" id="programmableSection">
            <!-- Custom Timer Display - At Top Like Practitioner Section -->

            <div class="row">

                <div class="custom-timer-container-top mb-4 col-6">
                    <div class="custom-timer-label">Custom Pattern Timer</div>
                    <div class="custom-timer" id="customPatternTimer">00:00:00</div>
                    <div class="mt-2" style="font-size: 0.9rem; color: #6c757d;">
                        ‚è±Ô∏è Timer resets when you stop. Tracks only this custom pattern session.
                    </div>
                </div>

                <div class="custom-timer-container-top mb-4 col-6">
                    <!-- Breath cycle visualizer -->
                    <div class="breath-visualizer" id="breathVisualizer">
                        <!-- Phases will be dynamically inserted here --></div>


                    <div class="row">
                        <!-- Current phase indicator -->
                        <div class="current-phase-indicator col-6" id="currentPhase">Ready to start</div>

                        <!-- Cycle counter -->
                        <div class="current-phase-indicator col-6" id="cycleCounter"> Cycle: 0</div>

                    </div>
                </div>

            </div>

            <div class="row">
                <!-- Left side: Controls -->
                <div class="col-lg-6">
                    <div class="programmable-card">
                        <h5 class="expert-color text-center">‚öôÔ∏è Pattern Configuration</h5>

                        <!-- Duration selectors -->
                        <div class="row mt-4">
                            <div class="col-6 mb-3">
                                <label class="duration-label">Inhale Duration</label>
                                <select class="form-select" id="inDuration">
                                    <option value="5">5 seconds</option>
                                    <option value="5.5" selected>5.5 seconds</option>
                                    <option value="6">6 seconds</option>
                                    <option value="7">7 seconds</option>
                                    <option value="8">8 seconds</option>
                                    <option value="9">9 seconds</option>
                                </select>
                            </div>
                            <div class="col-6 mb-3">
                                <label class="duration-label">Pause After Inhale</label>
                                <select class="form-select" id="pause1Duration">
                                    <option value="0" selected>No pause</option>
                                    <option value="1">1 second</option>
                                    <option value="2">2 seconds</option>
                                    <option value="3">3 seconds</option>
                                    <option value="4">4 seconds</option>
                                    <option value="5">5 seconds</option>
                                    <option value="6">6 seconds</option>
                                    <option value="7">7 seconds</option>
                                    <option value="8">8 seconds</option>
                                </select>
                            </div>
                            <div class="col-6 mb-3">
                                <label class="duration-label">Exhale Duration</label>
                                <select class="form-select" id="outDuration">
                                    <option value="5">5 seconds</option>
                                    <option value="5.5" selected>5.5 seconds</option>
                                    <option value="6">6 seconds</option>
                                    <option value="7">7 seconds</option>
                                    <option value="8">8 seconds</option>
                                    <option value="9">9 seconds</option>
                                </select>
                            </div>
                            <div class="col-6 mb-3">
                                <label class="duration-label">Pause After Exhale</label>
                                <select class="form-select" id="pause2Duration">
                                    <option value="0" selected>No pause</option>
                                    <option value="1">1 second</option>
                                    <option value="2">2 seconds</option>
                                    <option value="3">3 seconds</option>
                                    <option value="4">4 seconds</option>
                                    <option value="5">5 seconds</option>
                                    <option value="6">6 seconds</option>
                                    <option value="7">7 seconds</option>
                                    <option value="8">8 seconds</option>
                                </select>
                            </div>
                        </div>

                        <!-- Control buttons -->
                        <div class="d-flex justify-content-center gap-2 mt-3">
                            <button class="btn btn-outline-primary btn-play" id="programmablePlay" disabled>
                                ‚ñ∂Ô∏è Play Pattern
                            </button>
                            <button class="btn btn-outline-secondary btn-pause" id="programmablePause" disabled>
                                ‚è∏Ô∏è Pause
                            </button>
                            <button class="btn btn-outline-secondary btn-stop" id="programmableStop" disabled>
                                ‚èπÔ∏è Stop
                            </button>
                        </div>

                        <div class="audio-status text-center mt-2">
                            <span id="programmableLoading" class="audio-loading">Loading custom audio files...</span>
                        </div>
                    </div>
                </div>

                <!-- Right side: Visualizer and Summary -->
                <div class="col-6">
                    <div class="programmable-card">


                        <!-- Pattern summary -->
                        <div class="pattern-summary">
                            <h6>Current Pattern Summary</h6>
                            <div class="pattern-summary-item">
                                <span class="pattern-summary-label">Inhale:</span>
                                <span class="pattern-summary-value" id="summaryIn">5.5s</span>
                            </div>
                            <div class="pattern-summary-item">
                                <span class="pattern-summary-label">Pause 1:</span>
                                <span class="pattern-summary-value" id="summaryPause1">0s</span>
                            </div>
                            <div class="pattern-summary-item">
                                <span class="pattern-summary-label">Exhale:</span>
                                <span class="pattern-summary-value" id="summaryOut">5.5s</span>
                            </div>
                            <div class="pattern-summary-item">
                                <span class="pattern-summary-label">Pause 2:</span>
                                <span class="pattern-summary-value" id="summaryPause2">0s</span>
                            </div>
                            <div class="total-duration" id="totalDuration">
                                Total: 11s per cycle
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Expert Tips Card (New section, similar to practitioner tips) -->
        <div class="card mt-4 tips-card">
            <div class="card-body">
                <h5 class="card-title expert-color collapsible-header" onclick="toggleCollapse('expertTips', this)">
                    üí° Expert Tips
                    <span class="collapse-icon">‚ñº</span>
                </h5>
                <div class="collapsible-content" id="expertTips">
                    <ul>
                        <li>‚úÖ Longer exhales (compared to inhales) promote relaxation</li>
                        <li>‚úÖ Add pauses to increase mindfulness and breath awareness</li>
                        <li>‚úÖ Experiment with 4-7-8 pattern (inhale 4s, hold 7s, exhale 8s)</li>
                        <li>‚úÖ Try box breathing (4-4-4-4 pattern) for focus and stress reduction</li>
                        <li>‚úÖ Save successful patterns in a journal for future reference</li>
                        <li>‚úÖ Adjust patterns based on your energy levels and time of day</li>
                    </ul>
                    <div class="text-center">
                        <button class="btn expert-btn btn-sm" onclick="scrollToSection('beginnerSection')">
                            ü°Ö Back to Beginner Level
                        </button>
                        <button class="btn practitioner-btn btn-sm" onclick="scrollToSection('practitionerSection')">
                            ü°Ö Back to Practitioner Level
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="card mt-4">
            <div class="card-body">
                <h5 class="expert-color text-center">üìä Expert Pattern Ideas</h5>
                <div class="row mt-3">
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <h6 class="card-title expert-color">üåä Calming Pattern</h6>
                                <p class="card-text pattern-description">Inhale: 4s<br>Exhale: 8s<br>Creates deep
                                    relaxation and calms the nervous system</p>
                                <div class="text-muted small">Perfect for evening practice</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <h6 class="card-title expert-color">üì¶ Box Breathing</h6>
                                <p class="card-text pattern-description">Inhale: 4s<br>Hold: 4s<br>Exhale: 4s<br>Hold:
                                    4s<br>Great for focus and concentration</p>
                                <div class="text-muted small">Used by Navy SEALs</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <h6 class="card-title expert-color">‚ö° Energy Pattern</h6>
                                <p class="card-text pattern-description">Inhale: 6s<br>Exhale: 4s<br>Increases
                                    alertness and energy levels</p>
                                <div class="text-muted small">Ideal for morning practice</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <h6 class="card-title expert-color">üò¥ Sleep Pattern</h6>
                                <p class="card-text pattern-description">Inhale: 4s<br>Hold: 7s<br>Exhale: 8s<br>Promotes
                                    relaxation before sleep</p>
                                <div class="text-muted small">4-7-8 breathing technique</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <h6 class="card-title expert-color">üß† Mindful Pattern</h6>
                                <p class="card-text pattern-description">Inhale: 5s<br>Hold: 3s<br>Exhale: 7s<br>Hold:
                                    2s<br>Enhances mindfulness</p>
                                <div class="text-muted small">With balanced pauses</div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-3">
                        <div class="card h-100">
                            <div class="card-body text-center">
                                <h6 class="card-title expert-color">‚ù§Ô∏è Heart Coherence</h6>
                                <p class="card-text pattern-description">Inhale: 5.5s<br>Exhale: 5.5s<br>The
                                    standard pattern for optimal heart rate variability</p>
                                <div class="text-muted small">Back to basics</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="footer_placeholder"></div>
</div>

<script>
    loadHeaderFooter("../../../automation/header.html", "../../../automation/footer.html", "../../../automation/theme_toggle.html")

    // Smooth scrolling function
    function scrollToSection(sectionId) {
        document.getElementById(sectionId).scrollIntoView({
            behavior: 'smooth'
        });

        // Highlight the clicked level card
        document.querySelectorAll('.level-card').forEach(card => {
            card.classList.remove('active-level');
        });
        document.getElementById(sectionId + 'Card').classList.add('active-level');
    }

    // Toggle collapsible sections
    function toggleCollapse(contentId, headerElement) {
        const content = document.getElementById(contentId);
        const icon = headerElement.querySelector('.collapse-icon');

        content.classList.toggle('collapsed');
        headerElement.classList.toggle('collapsed');

        if (content.classList.contains('collapsed')) {
            icon.textContent = '‚ñ∂';
        } else {
            icon.textContent = '‚ñº';
        }
    }
</script>

<!-- Main JavaScript files -->
<script src="coherent_breathing_audio.js"></script>
<script src="coherent_breathing_programmable.js"></script>
<script src="coherent_breathing_main.js"></script>

</body>
</html>