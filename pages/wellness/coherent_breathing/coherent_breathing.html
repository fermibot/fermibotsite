<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wellness | Coherent Breathing - A Guide for All Levels</title>

    <link rel="stylesheet" href="../../../d3_templates/hierarchical_dendrogram.css">
    <link rel="stylesheet" href="../../../index.css">
    <link rel="stylesheet" href="../../../bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../../js/highlight/styles/default.css">
    <link rel="stylesheet" href="../../../external_libraries/bootstrap/bootstrap.min.css">

    <!-- Main CSS for this page -->
    <link rel="stylesheet" href="coherent_breathing.css">

    <script src="../../../d3/d3.v4.min.js"></script>
    <script src="../../../automation/loadObjects.js"></script>
    <script src="../../../js/highlight/highlight.pack.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script>

    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>

<div class="container-lg card p-5">
    <div id="header_placeholder"></div>

    <h1 class="d-grid gap-3 justify-content-center p-2 mb-4" style="color: #8B4513;">Wellness | Coherent Breathing</h1>

    <p class="text-center mb-4" style="font-size: 1.1rem; color: #555;">
        A guided experience for everyone - from absolute beginners to breathing experts.<br>
        Choose your level to get started:
    </p>

    <!-- Level Navigation -->
    <div class="row mb-5">
        <div class="col-md-4 mb-3">
            <div class="card text-center h-100 level-card" id="beginnerCard"
                 onclick="scrollToSection('beginnerSection')" style="cursor: pointer;">
                <div class="card-body">
                    <h3 class="card-title beginner-color">üå± Beginner</h3>
                    <p class="card-text">New to coherent breathing? Start here with educational videos to understand the
                        basics.</p>
                    <div class="badge beginner-badge">Start Here</div>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="card text-center h-100 level-card" id="practitionerCard"
                 onclick="scrollToSection('practitionerSection')" style="cursor: pointer;">
                <div class="card-body">
                    <h3 class="card-title practitioner-color">üîÑ Practitioner</h3>
                    <p class="card-text">Familiar with the basics? Choose from established breathing patterns for
                        practice.</p>
                    <div class="badge practitioner-badge">Practice Patterns</div>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="card text-center h-100 level-card" id="expertCard" onclick="scrollToSection('expertSection')"
                 style="cursor: pointer;">
                <div class="card-body">
                    <h3 class="card-title expert-color">üéõÔ∏è Expert</h3>
                    <p class="card-text">Ready for advanced practice? Create custom breathing patterns tailored to your
                        needs.</p>
                    <div class="badge expert-badge">Custom Creator</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Section 1: Beginner -->
    <div id="beginnerSection" class="level-section mt-5">
        <div class="section-header beginner-header">
            <h3 class="beginner-color center-flex">üå± Beginner Level | Learn the Basics</h3>
            <p class="center-flex justify-content-center">Start your coherent breathing journey with these educational
                videos. Learn what
                coherent breathing is, why it works, and how to get started.</p>
        </div>

        <div class="row mt-4">
            <div class="col-lg-6 mb-4">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title beginner-color text-center">üé• What is Coherent Breathing?</h5>
                        <p class="card-text">Learn the fundamentals of coherent breathing and how it benefits your
                            nervous system.</p>
                        <div class="video-container">
                            <iframe
                                    class="w-100"
                                    height="315"
                                    src="https://www.youtube.com/embed/q06YIWCR2Js"
                                    title="What is Coherent Breathing?"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                    referrerpolicy="strict-origin-when-cross-origin"
                                    allowfullscreen>
                            </iframe>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-6 mb-4">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title beginner-color text-center">üéì The Science Behind It</h5>
                        <p class="card-text">Understand the science of heart rate variability and why 5.5-5.5 breathing
                            is optimal.</p>
                        <div class="video-container">
                            <iframe
                                    class="w-100"
                                    height="315"
                                    src="https://www.youtube.com/embed/Q_fFattg8N0?pp=ygUnYmVpbmcgYnJpbGxpYW50IGV2ZXJ5IHNpbmdsZSBkYXkgcGFydCAy2AYD"
                                    title="Science of Coherent Breathing"
                                    frameborder="0"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                    referrerpolicy="strict-origin-when-cross-origin"
                                    allowfullscreen>
                            </iframe>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card mt-4">
            <div class="card-body">
                <h5 class="card-title beginner-color">üìù Beginner's Checklist</h5>
                <ul class="">
                    <li class="">‚úÖ Watch both videos to understand the concept</li>
                    <li class="">‚úÖ Find a comfortable, quiet place to practice</li>
                    <li class="">‚úÖ Start with just 5 minutes per day</li>
                    <li class="">‚úÖ Focus on consistency rather than duration</li>
                    <li class="">‚úÖ Move to Practitioner level when ready to try patterns</li>
                </ul>
                <div class="text-center mt-4">
                    <button class="btn beginner-btn btn-sm" onclick="scrollToSection('practitionerSection')">
                        ü°á Ready to Practice? Go to Practitioner Level
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Section 2: Practitioner -->
    <div id="practitionerSection" class="level-section mt-5">
        <div class="section-header practitioner-header">
            <h3 class="practitioner-color text-center">üîÑ Practitioner Level | Practice with Patterns</h3>
            <p class="">Choose from established breathing patterns. Each pattern is designed for specific benefits.
                Start with the standard 5.5-5.5 pattern for optimal results.</p>
        </div>

        <!-- Session Timer Display (Moved to Practitioner Section) -->
        <div class="session-timer-container">
            <div class="timer-label">Session Timer</div>
            <div class="session-timer" id="sessionTimer">00:00:00</div>
            <div class="mt-2" style="font-size: 1rem; color: #996633;">
                ‚è±Ô∏è Timer resets when switching patterns. Only one pattern plays at a time.
            </div>
        </div>

        <!-- Audio Controls -->
        <div class="audio-controls">
            <div class="row mb-4">
                <div class="col-12">
                    <div class="card h-100 standard-pattern-highlight" id="card-55.5">
                        <div class="card-body text-center">
                            <h5 class="card-title">‚≠ê [Standard] 5.5-5.5 Breathing Pattern</h5>
                            <p class="card-text pattern-description">5.5 seconds inhale, 5.5 seconds exhale - The
                                standard coherent breathing pattern for optimal heart rate variability</p>

                            <!-- Seamless Web Audio API Player -->
                            <div class="seamless-audio-player" data-audio-id="55.5">
                                <div class="d-flex justify-content-center gap-2 mb-2">
                                    <button class="btn btn-outline-primary btn-play" disabled>
                                        ‚ñ∂Ô∏è Play
                                    </button>
                                    <button class="btn btn-outline-secondary btn-pause" disabled>
                                        ‚è∏Ô∏è Pause
                                    </button>
                                    <button class="btn btn-outline-secondary btn-stop" disabled>
                                        ‚èπÔ∏è Stop
                                    </button>
                                </div>
                                <div class="audio-status">
                                    <span class="loading-status audio-loading">Loading audio...</span>
                                    <span class="time-status" style="display: none;"></span>
                                </div>
                                <!-- Hidden fallback audio element for browsers without Web Audio API -->
                                <audio class="fallback-audio" controls loop style="display: none;">
                                    <source src="Coherent_Piano_5.5_5.5_fermibot.mp3" type="audio/mp3">
                                    Your browser does not support the audio element.
                                </audio>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- First Row: 5-5 and 6-6 Patterns -->
            <div class="row">
                <div class="col-md-6 mb-4">
                    <div class="card h-100" id="card-55">
                        <div class="card-body text-center">
                            <h5 class="card-title">üåº 5-5 Breathing Pattern</h5>
                            <p class="card-text pattern-description">5 seconds inhale, 5 seconds exhale - For energy and
                                focus</p>

                            <!-- Seamless Web Audio API Player -->
                            <div class="seamless-audio-player" data-audio-id="55">
                                <div class="d-flex justify-content-center gap-2 mb-2">
                                    <button class="btn btn-outline-primary btn-play" disabled>
                                        ‚ñ∂Ô∏è Play
                                    </button>
                                    <button class="btn btn-outline-secondary btn-pause" disabled>
                                        ‚è∏Ô∏è Pause
                                    </button>
                                    <button class="btn btn-outline-secondary btn-stop" disabled>
                                        ‚èπÔ∏è Stop
                                    </button>
                                </div>
                                <div class="audio-status">
                                    <span class="loading-status audio-loading">Loading audio...</span>
                                    <span class="time-status" style="display: none;"></span>
                                </div>
                                <!-- Hidden fallback audio element for browsers without Web Audio API -->
                                <audio class="fallback-audio" controls loop style="display: none;">
                                    <source src="Coherent_Piano_5_5_fermibot.mp3" type="audio/mp3">
                                    Your browser does not support the audio element.
                                </audio>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 mb-4">
                    <div class="card h-100" id="card-66">
                        <div class="card-body text-center">
                            <h5 class="card-title">üå∏ 6-6 Breathing Pattern</h5>
                            <p class="card-text pattern-description">6 seconds inhale, 6 seconds exhale - Perfect for
                                relaxation</p>

                            <!-- Seamless Web Audio API Player -->
                            <div class="seamless-audio-player" data-audio-id="66">
                                <div class="d-flex justify-content-center gap-2 mb-2">
                                    <button class="btn btn-outline-primary btn-play" disabled>
                                        ‚ñ∂Ô∏è Play
                                    </button>
                                    <button class="btn btn-outline-secondary btn-pause" disabled>
                                        ‚è∏Ô∏è Pause
                                    </button>
                                    <button class="btn btn-outline-secondary btn-stop" disabled>
                                        ‚èπÔ∏è Stop
                                    </button>
                                </div>
                                <div class="audio-status">
                                    <span class="loading-status audio-loading">Loading audio...</span>
                                    <span class="time-status" style="display: none;"></span>
                                </div>
                                <!-- Hidden fallback audio element for browsers without Web Audio API -->
                                <audio class="fallback-audio" controls loop style="display: none;">
                                    <source src="Coherent_Piano_6_6_fermibot.mp3" type="audio/mp3">
                                    Your browser does not support the audio element.
                                </audio>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <!-- Second Row: 7-7 and 8-8 Patterns -->
                    <div class="col-md-6 mb-4">
                        <div class="card h-100" id="card-77">
                            <div class="card-body text-center">
                                <h5 class="card-title">üåø 7-7 Breathing Pattern</h5>
                                <p class="card-text pattern-description">7 seconds inhale, 7 seconds exhale - For deep
                                    relaxation</p>

                                <!-- Seamless Web Audio API Player -->
                                <div class="seamless-audio-player" data-audio-id="77">
                                    <div class="d-flex justify-content-center gap-2 mb-2">
                                        <button class="btn btn-outline-primary btn-play" disabled>
                                            ‚ñ∂Ô∏è Play
                                        </button>
                                        <button class="btn btn-outline-secondary btn-pause" disabled>
                                            ‚è∏Ô∏è Pause
                                        </button>
                                        <button class="btn btn-outline-secondary btn-stop" disabled>
                                            ‚èπÔ∏è Stop
                                        </button>
                                    </div>
                                    <div class="audio-status">
                                        <span class="loading-status audio-loading">Loading audio...</span>
                                        <span class="time-status" style="display: none;"></span>
                                    </div>
                                    <!-- Hidden fallback audio element for browsers without Web Audio API -->
                                    <audio class="fallback-audio" controls loop style="display: none;">
                                        <source src="Coherent_Piano_7_7_fermibot.mp3" type="audio/mp3">
                                        Your browser does not support the audio element.
                                    </audio>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 mb-4">
                        <div class="card h-100" id="card-88">
                            <div class="card-body text-center">
                                <h5 class="card-title">üåä 8-8 Breathing Pattern</h5>
                                <p class="card-text pattern-description">8 seconds inhale, 8 seconds exhale - For
                                    meditation and
                                    calm</p>

                                <!-- Seamless Web Audio API Player -->
                                <div class="seamless-audio-player" data-audio-id="88">
                                    <div class="d-flex justify-content-center gap-2 mb-2">
                                        <button class="btn btn-outline-primary btn-play" disabled>
                                            ‚ñ∂Ô∏è Play
                                        </button>
                                        <button class="btn btn-outline-secondary btn-pause" disabled>
                                            ‚è∏Ô∏è Pause
                                        </button>
                                        <button class="btn btn-outline-secondary btn-stop" disabled>
                                            ‚èπÔ∏è Stop
                                        </button>
                                    </div>
                                    <div class="audio-status">
                                        <span class="loading-status audio-loading">Loading audio...</span>
                                        <span class="time-status" style="display: none;"></span>
                                    </div>
                                    <!-- Hidden fallback audio element for browsers without Web Audio API -->
                                    <audio class="fallback-audio" controls loop style="display: none;">
                                        <source src="Coherent_Piano_8_8_fermibot.mp3" type="audio/mp3">
                                        Your browser does not support the audio element.
                                    </audio>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="text-center mt-4">
                    <p class="text-muted" style="font-size: 0.9rem;">
                        <strong>Note:</strong> Using Web Audio API for seamless looping without gaps between cycles.
                        Only one pattern can play at a time. Timer resets when switching patterns.
                    </p>
                </div>
            </div>

            <div class="card mt-4">
                <div class="card-body">
                    <h5 class="card-title practitioner-color">üí° Practitioner Tips</h5>
                    <ul class="">
                        <li class="">‚úÖ Start with the standard 5.5-5.5 pattern for optimal benefits</li>
                        <li class="">‚úÖ Practice 10-20 minutes daily for best results</li>
                        <li class="">‚úÖ Try different patterns for different needs (energy vs relaxation)</li>
                        <li class="">‚úÖ Use headphones for better immersion</li>
                        <li class="">‚úÖ Experiment with what works best for you</li>
                    </ul>
                    <div class="text-center mt-4">
                        <button class="btn practitioner-btn btn-sm" onclick="scrollToSection('expertSection')">
                            ü°á Ready to Customize? Go to Expert Level
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 3: Expert -->
        <div id="expertSection" class="level-section mt-5">
            <div class="section-header expert-header">
                <h3 class="expert-color text-center">üéõÔ∏è Expert Level | Custom Pattern Creator</h3>
                <p class="">Design your own breathing patterns. Adjust inhale/exhale durations and add pauses to
                    create the perfect rhythm for your needs.</p>
            </div>

            <!-- Programmable Breathing Section -->
            <div class="programmable-section" id="programmableSection">
                <div class="row">
                    <div class="col-lg-8">
                        <div class="programmable-card">
                            <h5 class="expert-color">Configure Your Breathing Pattern</h5>

                            <div class="row">
                                <!-- In Duration -->
                                <div class="col-md-6 duration-selector">
                                    <div class="duration-label">üå¨Ô∏è Inhale Duration</div>
                                    <select class="form-select" id="inDuration">
                                        <option value="5">5s</option>
                                        <option value="5.5" selected>5.5s (Standard)</option>
                                        <option value="6">6s</option>
                                        <option value="7">7s</option>
                                        <option value="8">8s</option>
                                        <option value="9">9s</option>
                                    </select>
                                </div>

                                <!-- First Pause -->
                                <div class="col-md-6 duration-selector">
                                    <div class="duration-label">‚è∏Ô∏è Pause After Inhale</div>
                                    <select class="form-select" id="pause1Duration">
                                        <option value="0">No pause</option>
                                        <option value="1">1s</option>
                                        <option value="2">2s</option>
                                        <option value="3">3s</option>
                                        <option value="4">4s</option>
                                        <option value="5">5s</option>
                                        <option value="6">6s</option>
                                        <option value="7">7s</option>
                                        <option value="8">8s</option>
                                    </select>
                                </div>
                            </div>

                            <div class="row">
                                <!-- Out Duration -->
                                <div class="col-md-6 duration-selector">
                                    <div class="duration-label">üí® Exhale Duration</div>
                                    <select class="form-select" id="outDuration">
                                        <option value="5">5s</option>
                                        <option value="5.5" selected>5.5s (Standard)</option>
                                        <option value="6">6s</option>
                                        <option value="7">7s</option>
                                        <option value="8">8s</option>
                                        <option value="9">9s</option>
                                    </select>
                                </div>

                                <!-- Second Pause -->
                                <div class="col-md-6 duration-selector">
                                    <div class="duration-label">‚è∏Ô∏è Pause After Exhale</div>
                                    <select class="form-select" id="pause2Duration">
                                        <option value="0">No pause</option>
                                        <option value="1">1s</option>
                                        <option value="2">2s</option>
                                        <option value="3">3s</option>
                                        <option value="4">4s</option>
                                        <option value="5">5s</option>
                                        <option value="6">6s</option>
                                        <option value="7">7s</option>
                                        <option value="8">8s</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Breath Visualizer -->
                            <div class="breath-visualizer" id="breathVisualizer">
                                <!-- Will be populated by JavaScript -->
                            </div>
                            <div class="ticker-guide" id="tickerGuide">
                                Red ticker shows current position in breathing cycle
                            </div>

                            <!-- Current Phase Indicator -->
                            <div class="current-phase-indicator" id="currentPhase">
                                Ready to start
                            </div>

                            <!-- Cycle Counter -->
                            <div class="cycle-counter" id="cycleCounter">
                                Cycle: 0
                            </div>

                            <!-- Controls -->
                            <div class="d-flex justify-content-center gap-3 mt-4">
                                <button class="btn btn-outline-primary btn-lg" id="programmablePlay" disabled>
                                    ‚ñ∂Ô∏è Start Custom Pattern
                                </button>
                                <button class="btn btn-outline-secondary btn-lg" id="programmablePause" disabled>
                                    ‚è∏Ô∏è Pause
                                </button>
                                <button class="btn btn-outline-secondary btn-lg" id="programmableStop" disabled>
                                    ‚èπÔ∏è Stop
                                </button>
                            </div>

                            <div class="audio-status mt-3 text-center">
                                <span class="loading-status" id="programmableLoading">Loading audio files...</span>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-4">
                        <div class="programmable-card">
                            <h5 class="expert-color">Pattern Summary</h5>

                            <div class="pattern-summary">
                                <h6>Current Settings:</h6>
                                <div class="pattern-summary-item">
                                    <span class="pattern-summary-label">Inhale:</span>
                                    <span class="pattern-summary-value" id="summaryIn">5.5s</span>
                                </div>
                                <div class="pattern-summary-item">
                                    <span class="pattern-summary-label">Pause 1:</span>
                                    <span class="pattern-summary-value" id="summaryPause1">0s</span>
                                </div>
                                <div class="pattern-summary-item">
                                    <span class="pattern-summary-label">Exhale:</span>
                                    <span class="pattern-summary-value" id="summaryOut">5.5s</span>
                                </div>
                                <div class="pattern-summary-item">
                                    <span class="pattern-summary-label">Pause 2:</span>
                                    <span class="pattern-summary-value" id="summaryPause2">0s</span>
                                </div>
                                <div class="total-duration" id="totalDuration">
                                    Total: 11s per cycle
                                </div>
                            </div>

                            <!-- Custom Timer Display -->
                            <div class="custom-timer-container">
                                <div class="custom-timer-label">Custom Pattern Timer</div>
                                <div class="custom-timer" id="customPatternTimer">00:00:00</div>
                                <div class="mt-2" style="font-size: 0.8rem; color: #6c757d;">
                                    ‚è±Ô∏è Tracks only this custom pattern session
                                </div>
                            </div>

                            <div class="mt-4">
                                <h6 class="expert-color">Expert Tips:</h6>
                                <ul style="font-size: 0.9rem; color: #666;">
                                    <li>Longer exhales (compared to inhales) promote relaxation</li>
                                    <li>Add pauses to increase mindfulness</li>
                                    <li>Experiment with 4-7-8 pattern (inhale 4s, hold 7s, exhale 8s)</li>
                                    <li>Try box breathing (4-4-4-4 pattern)</li>
                                    <li>Save successful patterns in a journal</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card mt-4">
                <div class="card-body">
                    <h5 class="expert-color text-center">üìä Expert Pattern Ideas<br></h5>
                    <div class="row">
                        <div class="col-md-4 mb-3">
                            <div class="card h-100">
                                <div class="card-body">
                                    <h6 class="card-title expert-color text-center">Calming Pattern</h6>
                                    <p class="card-text small">Inhale: 4s<br>Exhale: 8s<br>Creates deep relaxation</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="card h-100">
                                <div class="card-body">
                                    <h6 class="card-title expert-color text-center">Box Breathing</h6>
                                    <p class="card-text small">Inhale: 4s<br>Hold: 4s<br>Exhale: 4s<br>Hold: 4s<br>Great
                                        for focus</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 mb-3">
                            <div class="card h-100">
                                <div class="card-body">
                                    <h6 class="card-title expert-color text-center">Energy Pattern</h6>
                                    <p class="card-text small">Inhale: 6s<br>Exhale: 4s<br>Increases alertness</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="footer_placeholder"></div>
    </div>

    <script>
        loadHeaderFooter("../../../automation/header.html", "../../../automation/footer.html", "../../../automation/theme_toggle.html")

        // Smooth scrolling function
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({
                behavior: 'smooth'
            });

            // Highlight the clicked level card
            document.querySelectorAll('.level-card').forEach(card => {
                card.classList.remove('active-level');
            });
            document.getElementById(sectionId + 'Card').classList.add('active-level');
        }
    </script>

    <!-- Main JavaScript files -->
    <script src="coherent_breathing_audio.js"></script>
    <script src="coherent_breathing_programmable.js"></script>
    <script src="coherent_breathing_main.js"></script>

</body>
</html>