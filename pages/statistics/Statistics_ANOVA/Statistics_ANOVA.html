<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Statistics | One-way ANOVA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../../../bootstrap/css/bootstrap.min.css">

    <!-- Site-wide CSS -->
    <link rel="stylesheet" href="../../../index.css">

    <!-- Minimal page-specific CSS -->
    <link rel="stylesheet" href="Statistics_ANOVA.css">

    <!-- D3.js for visualization -->
    <script src="../../../d3/d3.v7.min.js"></script>

    <!-- MathJax for LaTeX -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="../../../js/mathjax/MathJax-4.1.0/tex-mml-chtml.js"></script>

    <!-- Highlight.js for code syntax -->
    <link rel="stylesheet" href="../../../js/highlight/styles/default.css">
    <script src="../../../js/highlight/highlight.pack.js"></script>

    <!-- Common scripts -->
    <script src="../../../js/common.js"></script>
    <script src="../../../automation/loadObjects.js"></script>
    <script>
        // Load header and footer
        loadHeaderFooter("../../../automation/header.html", "../../../automation/footer.html");
        // Initialize highlight.js
        hljs.initHighlightingOnLoad();
    </script>
</head>
<body class="container-lg card p-5">

<div id="header_placeholder"></div>

<div class="jumbotron-fluid text-center p-2">
    <h1>Statistics | One-way ANOVA</h1>
</div>

<div class="container-md">
    <div>
        <br><h5>Objective</h5>
        <p class="small">
            This page is a visual guide to <strong>one-way ANOVA</strong> (analysis of variance). The goal is to test
            whether the means of multiple groups are equal.
        </p>
        <p class="small mb-1">In one-way ANOVA we contrast:</p>
        <ul class="small mb-0">
            <li><strong>Between-group variation</strong> (how far group means are from the overall mean)</li>
            <li><strong>Within-group variation</strong> (how spread out points are within each group)</li>
        </ul>
        <p class="small mt-2 mb-0">
            The test statistic is \(F = \frac{MS_{between}}{MS_{within}}\). Large \(F\) suggests group means differ.
        </p>
    </div>
</div>

<div class="container-md my-4">
    <div class="viz-container anova-plot">
        <h2 class="h5 mb-3">Interactive One-way ANOVA Explorer</h2>
        <p class="small text-muted mb-3">
            Adjust the group means, standard deviation, and sample size, and watch how the \(F\)-statistic and
            \(p\)-value change.
        </p>

        <div class="row align-items-end gy-2 mb-2">
            <div class="col-md-4">
                <label for="meanDiffSlider" class="form-label mb-0">
                    <strong>Mean difference</strong>
                    <span class="text-muted">(</span><span id="meanDiffValue" class="text-muted">1.00</span><span class="text-muted">)</span>
                </label>
                <div class="small text-muted">Separates group means</div>
                <input type="range" id="meanDiffSlider" class="form-range" min="0" max="8" step="0.1" value="1.0">
            </div>
            <div class="col-md-4">
                <label for="sigmaSlider" class="form-label mb-0">
                    <strong>Standard deviation</strong>
                    <span class="text-muted">(</span><span id="sigmaValue" class="text-muted">3.00</span><span class="text-muted">)</span>
                </label>
                <div class="small text-muted">Within-group spread</div>
                <input type="range" id="sigmaSlider" class="form-range" min="0.2" max="8" step="0.1" value="3.0">
            </div>
            <div class="col-md-4">
                <label for="nSlider" class="form-label mb-0">
                    <strong>Sample size per group</strong>
                    <span class="text-muted">(</span><span id="nValue" class="text-muted">20</span><span class="text-muted">)</span>
                </label>
                <div class="small text-muted">Controls stability of \(F\)</div>
                <input type="range" id="nSlider" class="form-range" min="5" max="300" step="1" value="20">
            </div>
        </div>

        <div id="anovaPlotContainer" class="mb-1"></div>

        <div class="small text-muted mt-2">
            Tip: increase mean difference or decrease standard deviation to see \(p\) shrink.
        </div>
    </div>
</div>

<div class="container-md mb-5">
    <section class="mb-5">
        <h2 class="mb-3">Reference (Mathematica)</h2>
        <p class="small text-muted mb-3">
            The interactive visualization on this page is inspired by legacy notebook experiments that generated
            random samples, computed ANOVA \(F\)-statistics and \(p\)-values, and visualized distributions.
        </p>
        <div class="code-block"><pre><code class="hljs">Needs["ANOVA`"]

nu = 20;
data1 = RandomVariate[NormalDistribution[1, 3], nu];
data2 = RandomVariate[NormalDistribution[1.5, 3], nu];
data3 = Join[Table[{1, data1[[n]]}, {n, 1, nu}],
   Table[{2, data2[[n]]}, {n, 1, nu}]];

ANOVA[data3][[1, 2]]
</code></pre></div>
    </section>
</div>

<div class="p-5"></div>

<div id="footer_placeholder"></div>

<script src="Statistics_ANOVA.js"></script>

</body>
</html>
